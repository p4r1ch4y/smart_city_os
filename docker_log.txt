scu@sc-w1:~$ ls
Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos  school  snap  thinclient_drives
scu@sc-w1:~$ cd Downloads
scu@sc-w1:~/Downloads$ cd smart_city_os
scu@sc-w1:~/Downloads/smart_city_os$ ls
BLOCKCHAIN_ANALYSIS_REPORT.md   blockchain              test-blockchain-comprehensive.js
DEPLOYMENT_GUIDE.md             database                test-blockchain-microservices.js
DEPLOYMENT_READINESS_REPORT.md  docker                  test-blockchain-service.js
FEATURES.md                     docker-compose.yml      test-complete-system.js
MIGRATION_COMPLETE.md           frontend                test-deployed-system.js
OPTIMIZATIONS_IMPLEMENTED.md    get-iot-token.js        test-end-to-end-workflow.js
QUICKSTART.md                   iot-simulation          test-full-system.js
README.md                       node_modules            test-ledger
RECENT_UPDATES_SUMMARY.md       package-lock.json       test-optimizations.js
SENSORMAP_FIX_COMPLETE.md       package.json            test-pda-generation.js
SUPABASE_SETUP.md               programs                test-setup.js
SYSTEM_FIXES_COMPLETE.md        project_plan.md         test-system-status.js
SYSTEM_SUMMARY.md               smart-city-prototype    test-updated-system.js
analytics                       supabase_setup.sql      test_blockchain.js
anchor_project                  target                  vercel.json
backend                         test-backend-simple.js  verify-deployment.js
scu@sc-w1:~/Downloads/smart_city_os$ cd backend
scu@sc-w1:~/Downloads/smart_city_os/backend$ node test-blockchain-service.js
node:internal/modules/cjs/loader:1372
  throw err;
  ^

Error: Cannot find module '/home/scu/Downloads/smart_city_os/backend/test-blockchain-service.js'
    at Module._resolveFilename (node:internal/modules/cjs/loader:1369:15)
    at defaultResolveImpl (node:internal/modules/cjs/loader:1025:19)
    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1030:22)
    at Module._load (node:internal/modules/cjs/loader:1179:37)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)
    at node:internal/main/run_main_module:33:47 {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}

Node.js v24.4.1
scu@sc-w1:~/Downloads/smart_city_os/backend$ cd ..
scu@sc-w1:~/Downloads/smart_city_os$ npm run dev

> smart-city-os@1.0.0 dev
> node backend/server.js

âš ï¸ Filtering out instruction 'batchUpdateAirQuality' due to tuple types
Executing (default): SELECT 1+1 AS result
Database connection established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'User'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_User_role' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'User' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'Sensor'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_Sensor_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_Sensor_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'Sensor' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'SensorData'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_SensorData_quality' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'SensorData' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'Alert'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_Alert_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_Alert_severity' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_Alert_status' GROUP BY 1
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'Alert' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database synchronized.
Initializing School of Solana blockchain service...
Network: devnet
RPC URL: https://api.devnet.solana.com
Loaded authority keypair from environment
Current balance: 9.33625516 SOL
Sufficient balance, skipping airdrop
School of Solana blockchain service initialized successfully
Authority: 13DQ49SPqoxZRxDEXcGPnXjBprXmRnJoXbMXk6KgMRHz
Program ID: A8vwRav21fjK55vLQXxDZD8WFLP5cvFyYfBaEsTcy5An
âœ… Blockchain service initialized successfully.
ðŸš€ Smart City OS Server running on port 3030
ðŸ“Š Environment: development
ðŸ”— Health check: http://localhost:3030/health
ðŸ¤– Analytics Service: http://localhost:5000
â›“ï¸ Blockchain Service: Active
ðŸš€ REAL BLOCKCHAIN: Initializing accounts for Downtown:AQ001
Initializing Real Solana Program Integration...
Network: devnet
RPC URL: https://api.devnet.solana.com
ðŸ”— Testing network connectivity...
âœ… Connected to Solana cluster version: 2.3.6
Loaded authority keypair from environment
âš ï¸ Anchor Program initialization failed, using direct transactions
Error: Cannot read properties of undefined (reading '_bn')
Current balance: 9.33625516 SOL
Real Solana Program initialized successfully
Authority: 13DQ49SPqoxZRxDEXcGPnXjBprXmRnJoXbMXk6KgMRHz
Program ID: A8vwRav21fjK55vLQXxDZD8WFLP5cvFyYfBaEsTcy5An
ðŸ”— PDAs derived for real program:
   Air Quality PDA: 4r3HXG6GrCsoq2jZbQfqdsEXs2moLdrVPQce4FC8vtYU (bump: 255)
   Contract PDA: AvtLS9VggofkPBRdHrLLa1Fb6FADZs4DYY7oLYMhGTua (bump: 255)
ðŸš€ REAL: Initializing air quality account for Downtown:AQ001
ðŸ“ PDA: 4r3HXG6GrCsoq2jZbQfqdsEXs2moLdrVPQce4FC8vtYU
âœ… MOCK: Air quality account initialization prepared!
ðŸ“ Mock Transaction: init_1755978278465_m9txg9cls
ðŸ”— Explorer: https://explorer.solana.com/address/4r3HXG6GrCsoq2jZbQfqdsEXs2moLdrVPQce4FC8vtYU?cluster=devnet
ðŸ”— PDAs derived for real program:
   Air Quality PDA: 4r3HXG6GrCsoq2jZbQfqdsEXs2moLdrVPQce4FC8vtYU (bump: 255)
   Contract PDA: AvtLS9VggofkPBRdHrLLa1Fb6FADZs4DYY7oLYMhGTua (bump: 255)
ðŸš€ REAL: Initializing contract account for IoT Service Agreement
ðŸ“ PDA: AvtLS9VggofkPBRdHrLLa1Fb6FADZs4DYY7oLYMhGTua
âœ… REAL: Contract account initialization prepared!
ðŸ“ Mock Transaction: contract_1755978278766_ijydqfop3
ðŸ”— Explorer: https://explorer.solana.com/address/AvtLS9VggofkPBRdHrLLa1Fb6FADZs4DYY7oLYMhGTua?cluster=devnet
::ffff:127.0.0.1 - - [23/Aug/2025:19:44:38 +0000] "POST /api/blockchain/initialize-accounts HTTP/1.1" 200 808 "http://localhost:3000/blockchain" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
^C
scu@sc-w1:~/Downloads/smart_city_os$ docker compose up --build
#1 [internal] load local bake definitions
#1 reading from stdin 1.99kB done
#1 DONE 0.0s

#2 [backend internal] load build definition from backend.Dockerfile
#2 transferring dockerfile: 727B 0.0s done
#2 DONE 0.1s

#3 [frontend internal] load build definition from frontend.Dockerfile
#3 transferring dockerfile: 535B 0.0s done
#3 DONE 0.1s

#4 [iot-simulation internal] load build definition from iot-simulation.Dockerfile
#4 transferring dockerfile: 871B 0.0s done
#4 DONE 0.1s

#5 [analytics internal] load build definition from analytics.Dockerfile
#5 transferring dockerfile: 673B 0.0s done
#5 DONE 0.1s

#6 [analytics internal] load metadata for docker.io/library/python:3.11-slim
#6 ...

#7 [auth] library/nginx:pull token for registry-1.docker.io
#7 DONE 0.0s

#8 [auth] library/python:pull token for registry-1.docker.io
#8 DONE 0.0s

#9 [auth] library/node:pull token for registry-1.docker.io
#9 DONE 0.0s

#10 [backend internal] load metadata for docker.io/library/node:18-alpine
#10 ...

#11 [frontend internal] load metadata for docker.io/library/nginx:alpine
#11 DONE 3.8s

#6 [iot-simulation internal] load metadata for docker.io/library/python:3.11-slim
#6 DONE 3.8s

#12 [analytics internal] load .dockerignore
#12 transferring context: 2B done
#12 DONE 0.0s

#13 [iot-simulation 1/9] FROM docker.io/library/python:3.11-slim@sha256:1d6131b5d479888b43200645e03a78443c7157efbdb730e6b48129740727c312
#13 DONE 0.0s

#14 [analytics internal] load build context
#14 transferring context: 12.78kB 0.0s done
#14 DONE 0.0s

#15 [iot-simulation internal] load build context
#15 transferring context: 55.52kB 0.0s done
#15 DONE 0.1s

#16 [analytics 5/6] RUN pip install --no-cache-dir -r requirements.txt
#16 CACHED

#17 [analytics 4/6] COPY analytics/requirements.txt .
#17 CACHED

#18 [analytics 3/6] RUN apt-get update && apt-get install -y     gcc     g++     && rm -rf /var/lib/apt/lists/*
#18 CACHED

#19 [analytics 6/6] COPY analytics/ .
#19 CACHED

#20 [iot-simulation 5/9] RUN pip install --no-cache-dir -r requirements.txt
#20 CACHED

#21 [iot-simulation 7/9] RUN groupadd -r iot && useradd -r -g iot iot
#21 CACHED

#22 [iot-simulation 6/9] COPY iot-simulation/ ./
#22 CACHED

#23 [iot-simulation 2/9] WORKDIR /app
#23 CACHED

#24 [iot-simulation 8/9] RUN chown -R iot:iot /app
#24 CACHED

#25 [iot-simulation 4/9] COPY iot-simulation/requirements.txt ./
#25 CACHED

#26 [iot-simulation 3/9] RUN apt-get update && apt-get install -y     curl     && rm -rf /var/lib/apt/lists/*
#26 CACHED

#27 [iot-simulation 9/9] RUN chmod +x main.py
#27 CACHED

#28 [iot-simulation] exporting to image
#28 exporting layers done
#28 writing image sha256:ed08f6d1dfc503d07a35dc369fed1d4b8b546f7920df519ebbd840db33241c8a done
#28 naming to docker.io/library/smart_city_os-iot-simulation done
#28 DONE 0.1s

#29 [analytics] exporting to image
#29 exporting layers done
#29 writing image sha256:200b891a6a1de3e09ded01824b4d99c6ca247fd2893b58f19ea95c94f5a66617 0.0s done
#29 naming to docker.io/library/smart_city_os-analytics 0.0s done
#29 DONE 0.1s

#10 [backend internal] load metadata for docker.io/library/node:18-alpine
#10 DONE 4.2s

#12 [backend internal] load .dockerignore
#12 transferring context: 2B done
#12 DONE 0.0s

#30 [frontend stage-0 1/6] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#30 DONE 0.0s

#31 [frontend stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:42a516af16b852e33b7682d5ef8acbd5d13fe08fecadc7ed98605ba5e3b26ab8
#31 CACHED

#32 [backend internal] load build context
#32 transferring context: 21.89kB 0.0s done
#32 DONE 0.1s

#33 [analytics] resolving provenance for metadata file
#33 DONE 0.0s

#34 [iot-simulation] resolving provenance for metadata file
#34 DONE 0.0s

#35 [backend 4/9] COPY package.json package-lock.json ./
#35 CACHED

#36 [backend 3/9] RUN apk add --no-cache curl
#36 CACHED

#37 [backend stage-0 2/6] WORKDIR /app
#37 CACHED

#38 [backend 5/9] RUN npm install --only=production
#38 CACHED

#39 [frontend internal] load build context
#39 ...

#40 [backend 6/9] COPY backend/ ./
#40 DONE 0.2s

#39 [frontend internal] load build context
#39 ...

#41 [backend 7/9] RUN addgroup -g 1001 -S nodejs
#41 DONE 1.2s

#39 [frontend internal] load build context
#39 ...

#42 [backend 8/9] RUN adduser -S nodejs -u 1001
#42 DONE 1.0s

#39 [frontend internal] load build context
#39 transferring context: 184.76MB 5.2s
#39 transferring context: 236.78MB 10.4s
#39 ...

#43 [backend 9/9] RUN chown -R nodejs:nodejs /app
#43 ...

#39 [frontend internal] load build context
#39 transferring context: 238.30MB 15.4s
#39 transferring context: 240.22MB 20.5s
#39 transferring context: 241.35MB 24.1s done
#39 DONE 25.0s

#43 [backend 9/9] RUN chown -R nodejs:nodejs /app
#43 ...

#37 [frontend stage-0 2/6] WORKDIR /app
#37 CACHED

#44 [frontend stage-0 3/6] COPY frontend/package.json frontend/package-lock.json ./
#44 CACHED

#45 [frontend stage-0 4/6] RUN npm install --legacy-peer-deps
#45 CACHED

#46 [frontend stage-0 5/6] COPY frontend/ ./
#46 ...

#43 [backend 9/9] RUN chown -R nodejs:nodejs /app
#43 DONE 57.4s

#47 [backend] exporting to image
#47 exporting layers
#47 exporting layers 4.4s done
#47 writing image sha256:cf1c1f9d3ca3dce51d0b5d054e1f8f4d3f121e94bb8a8f6ceb7f4c95814f9da9 done
#47 naming to docker.io/library/smart_city_os-backend 0.0s done
#47 DONE 4.4s

#48 [backend] resolving provenance for metadata file
#48 DONE 0.0s

#46 [frontend stage-0 5/6] COPY frontend/ ./
#46 DONE 79.3s

#49 [frontend stage-0 6/6] RUN npm run build
#49 9.891
#49 9.891 > smart-city-dashboard@1.0.0 build
#49 9.891 > react-scripts build
#49 9.891
#49 12.06 Creating an optimized production build...
#49 93.54 Compiled with warnings.
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/buffer-layout/src/Layout.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/buffer-layout/src/Layout.ts'
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/error.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/error.ts'
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/struct.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/struct.ts'
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/coercions.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/coercions.ts'
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/refinements.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/refinements.ts'
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/types.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/types.ts'
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/utilities.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/structs/utilities.ts'
#49 93.54
#49 93.54 Failed to parse source map from '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/utils.ts' file: Error: ENOENT: no such file or directory, open '/app/node_modules/@solana/web3.js/node_modules/superstruct/src/utils.ts'
#49 93.54
#49 93.54 [eslint]
#49 93.54 src/App.js
#49 93.54   Line 14:7:  'Dashboard' is assigned a value but never used  no-unused-vars
#49 93.54
#49 93.54 src/components/AlertsList.js
#49 93.54   Line 3:16:  'StatusIcon' is defined but never used  no-unused-vars
#49 93.54
#49 93.54 src/components/DashboardGrid.js
#49 93.54   Line 298:1:  Assign object to a variable before exporting as module default  import/no-anonymous-default-export
#49 93.54
#49 93.54 src/components/Layout.js
#49 93.54   Line 22:6:  React Hook useEffect has an unnecessary dependency: 'window.location.pathname'. Either exclude it or remove the dependency array. Outer scope values like 'window.location.pathname' aren't valid dependencies because mutating them doesn't re-render the component  react-hooks/exhaustive-deps
#49 93.54
#49 93.54 src/components/PrototypeDashboard.js
#49 93.54   Line 12:25:  'isConnected' is assigned a value but never used     no-unused-vars
#49 93.54   Line 23:41:  'sensorsLoading' is assigned a value but never used  no-unused-vars
#49 93.54   Line 35:40:  'alertsLoading' is assigned a value but never used   no-unused-vars
#49 93.54
#49 93.54 src/components/RealtimeChart.js
#49 93.54   Line 3:3:   'LineChart' is defined but never used  no-unused-vars
#49 93.54   Line 4:3:   'Line' is defined but never used       no-unused-vars
#49 93.54   Line 35:7:  Expected a default case                default-case
#49 93.54
#49 93.54 src/components/Sidebar.js
#49 93.54   Line 5:10:  'motion' is defined but never used  no-unused-vars
#49 93.54
#49 93.54 src/components/blockchain/BlockchainVerification.js
#49 93.54   Line 18:9:  The 'sensorData' object makes the dependencies of useCallback Hook (at line 129) change on every render. To fix this, wrap the initialization of 'sensorData' in its own useMemo() Hook  react-hooks/exhaustive-deps
#49 93.54   Line 18:9:  The 'sensorData' object makes the dependencies of useCallback Hook (at line 173) change on every render. To fix this, wrap the initialization of 'sensorData' in its own useMemo() Hook  react-hooks/exhaustive-deps
#49 93.54
#49 93.54 src/contexts/AuthContext.js
#49 93.54   Line 69:6:  React Hook useEffect has a missing dependency: 'getInitialSession'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
#49 93.54
#49 93.54 src/contexts/SocketContext.js
#49 93.54   Line 17:9:    'reconnectAttempts' is assigned a value but never used                                                                                                      no-unused-vars
#49 93.54   Line 18:9:    'maxReconnectAttempts' is assigned a value but never used                                                                                                   no-unused-vars
#49 93.54   Line 30:6:    React Hook useEffect has missing dependencies: 'cleanupSubscriptions' and 'setupSupabaseSubscriptions'. Either include them or remove the dependency array  react-hooks/exhaustive-deps
#49 93.54   Line 97:45:   'oldRecord' is assigned a value but never used                                                                                                              no-unused-vars
#49 93.54   Line 146:45:  'oldRecord' is assigned a value but never used                                                                                                              no-unused-vars
#49 93.54
#49 93.54 src/lib/supabase.js
#49 93.54   Line 159:15:  'data' is assigned a value but never used  no-unused-vars
#49 93.54
#49 93.54 src/pages/Analytics.js
#49 93.54   Line 11:10:  'timeRange' is assigned a value but never used     no-unused-vars
#49 93.54   Line 11:21:  'setTimeRange' is assigned a value but never used  no-unused-vars
#49 93.54
#49 93.54 src/pages/CityTwin.js
#49 93.54   Line 1:27:  'useEffect' is defined but never used                     no-unused-vars
#49 93.54   Line 9:11:  'user' is assigned a value but never used                 no-unused-vars
#49 93.54   Line 30:9:  'handleSensorClick' is assigned a value but never used    no-unused-vars
#49 93.54   Line 35:9:  'handleBuildingClick' is assigned a value but never used  no-unused-vars
#49 93.54
#49 93.54 src/pages/Dashboard.js
#49 93.54   Line 11:3:   'MapPinIcon' is defined but never used                                                                                                                                                           no-unused-vars
#49 93.54   Line 14:3:   'BellIcon' is defined but never used                                                                                                                                                             no-unused-vars
#49 93.54   Line 21:3:   'DashboardCard' is defined but never used                                                                                                                                                        no-unused-vars
#49 93.54   Line 23:3:   'AlertBanner' is defined but never used                                                                                                                                                          no-unused-vars
#49 93.54   Line 30:10:  'useAuth' is defined but never used                                                                                                                                                              no-unused-vars
#49 93.54   Line 63:9:   The 'sensors' logical expression could make the dependencies of useEffect Hook (at line 76) change on every render. To fix this, wrap the initialization of 'sensors' in its own useMemo() Hook  react-hooks/exhaustive-deps
#49 93.54   Line 64:9:   'alertStats' is assigned a value but never used                                                                                                                                                  no-unused-vars
#49 93.54   Line 71:15:  'synthetic' is assigned a value but never used                                                                                                                                                   no-unused-vars
#49 93.54   Line 97:9:   'containerVariants' is assigned a value but never used                                                                                                                                           no-unused-vars
#49 93.54   Line 107:9:  'itemVariants' is assigned a value but never used                                                                                                                                                no-unused-vars
#49 93.54
#49 93.54 src/pages/Landing.js
#49 93.54   Line 6:19:  'CITIES' is defined but never used  no-unused-vars
#49 93.54
#49 93.54 src/pages/Login.js
#49 93.54   Line 67:45:  'isLoading' is assigned a value but never used  no-unused-vars
#49 93.54   Line 79:5:   'watch' is assigned a value but never used      no-unused-vars
#49 93.54
#49 93.54 src/pages/Sensors.js
#49 93.54   Line 12:10:  'selectedSensor' is assigned a value but never used  no-unused-vars
#49 93.54   Line 13:11:  'realtimeData' is assigned a value but never used    no-unused-vars
#49 93.54   Line 61:9:   'getStatusColor' is assigned a value but never used  no-unused-vars
#49 93.54
#49 93.54 src/pages/Services.js
#49 93.54   Line 1:27:   'useEffect' is defined but never used                no-unused-vars
#49 93.54   Line 4:29:   'analyticsService' is defined but never used         no-unused-vars
#49 93.54   Line 10:10:  'blockchainData' is assigned a value but never used  no-unused-vars
#49 93.54   Line 107:9:  'getStatusColor' is assigned a value but never used  no-unused-vars
#49 93.54
#49 93.54 src/pages/Settings.js
#49 93.54   Line 5:16:  'StatusIcon' is defined but never used  no-unused-vars
#49 93.54
#49 93.54 Search for the keywords to learn more about each warning.
#49 93.54 To ignore, add // eslint-disable-next-line to the line before.
#49 93.54
#49 93.54 File sizes after gzip:
#49 93.54
#49 93.65   173 kB    build/static/js/main.d34ef4a0.js
#49 93.65   105.3 kB  build/static/js/839.159340aa.chunk.js
#49 93.65   73.22 kB  build/static/js/401.0959107e.chunk.js
#49 93.65   44.81 kB  build/static/js/296.a619ca60.chunk.js
#49 93.65   23.11 kB  build/static/css/main.26a10b26.css
#49 93.65   22.61 kB  build/static/js/434.88bf75db.chunk.js
#49 93.65   14.76 kB  build/static/js/722.3cbbeb1d.chunk.js
#49 93.65   8.29 kB   build/static/css/20.a589dcd1.chunk.css
#49 93.65   7.25 kB   build/static/js/973.921b607e.chunk.js
#49 93.65   6.38 kB   build/static/css/973.b3201c10.chunk.css
#49 93.65   6.38 kB   build/static/css/207.b3201c10.chunk.css
#49 93.66   6.31 kB   build/static/js/723.4e1e41ee.chunk.js
#49 93.66   5.81 kB   build/static/js/422.21cfed3b.chunk.js
#49 93.66   5.28 kB   build/static/js/555.282aa658.chunk.js
#49 93.66   5.16 kB   build/static/js/744.cbbc274a.chunk.js
#49 93.66   4.85 kB   build/static/js/20.b84232c7.chunk.js
#49 93.66   4.73 kB   build/static/js/22.9a764945.chunk.js
#49 93.66   4.07 kB   build/static/js/96.4981994b.chunk.js
#49 93.66   2.85 kB   build/static/js/883.c4da5a21.chunk.js
#49 93.66   2.41 kB   build/static/js/66.3909b95b.chunk.js
#49 93.66   1.92 kB   build/static/js/207.74f7b21d.chunk.js
#49 93.66   1.79 kB   build/static/js/122.adbcf353.chunk.js
#49 93.66   1.45 kB   build/static/js/202.8f04e5fe.chunk.js
#49 93.66
#49 93.66 The project was built assuming it is hosted at /.
#49 93.66 You can control this with the homepage field in your package.json.
#49 93.66
#49 93.66 The build folder is ready to be deployed.
#49 93.66 You may serve it with a static server:
#49 93.66
#49 93.66   npm install -g serve
#49 93.66   serve -s build
#49 93.66
#49 93.66 Find out more about deployment here:
#49 93.66
#49 93.66   https://cra.link/deployment
#49 93.66
#49 DONE 94.1s

#50 [frontend stage-1 2/3] COPY --from=0 /app/build /usr/share/nginx/html
#50 DONE 0.2s

#51 [frontend stage-1 3/3] COPY docker/nginx.conf /etc/nginx/conf.d/default.conf
#51 DONE 0.1s

#52 [frontend] exporting to image
#52 exporting layers
#52 exporting layers 0.2s done
#52 writing image sha256:c2a7771976639dfb9b310dd6c249e357824f3e645211d98f514168393eeb852a done
#52 naming to docker.io/library/smart_city_os-frontend 0.0s done
#52 DONE 0.2s

#53 [frontend] resolving provenance for metadata file
#53 DONE 0.0s
[+] Running 14/14
 âœ” smart_city_os-analytics                   Built                                   0.0s
 âœ” smart_city_os-backend                     Built                                   0.0s
 âœ” smart_city_os-iot-simulation              Built                                   0.0s
 âœ” smart_city_os-frontend                    Built                                   0.0s
 âœ” Network smart_city_os_smart_city_network  Created                                 0.1s
 âœ” Volume "smart_city_os_postgres_data"      Created                                 0.1s
 âœ” Volume "smart_city_os_redis_data"         Created                                 0.0s
 âœ” Volume "smart_city_os_analytics_models"   Created                                 0.0s
 âœ” Container smart_city_redis                Created                                 0.3s
 âœ” Container smart_city_db                   Created                                 0.3s
 âœ” Container smart_city_backend              Creat...                                3.7s
 âœ” Container smart_city_analytics            Cre...                                  0.2s
 âœ” Container smart_city_frontend             Crea...                                 0.1s
 âœ” Container smart_city_iot_sim              Creat...                                0.1s
Attaching to smart_city_analytics, smart_city_backend, smart_city_db, smart_city_frontend, smart_city_iot_sim, smart_city_redis
smart_city_redis  | 1:C 23 Aug 2025 19:50:05.767 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
smart_city_redis  | 1:C 23 Aug 2025 19:50:05.768 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
smart_city_redis  | 1:C 23 Aug 2025 19:50:05.768 * Configuration loaded
smart_city_redis  | 1:M 23 Aug 2025 19:50:05.769 * monotonic clock: POSIX clock_gettime
smart_city_redis  | 1:M 23 Aug 2025 19:50:05.772 * Running mode=standalone, port=6379.
smart_city_redis  | 1:M 23 Aug 2025 19:50:05.773 * Server initialized
smart_city_redis  | 1:M 23 Aug 2025 19:50:05.781 * Creating AOF base file appendonly.aof.1.base.rdb on server start
smart_city_redis  | 1:M 23 Aug 2025 19:50:05.789 * Creating AOF incr file appendonly.aof.1.incr.aof on server start
smart_city_redis  | 1:M 23 Aug 2025 19:50:05.789 * Ready to accept connections tcp
smart_city_db     | The files belonging to this database system will be owned by user "postgres".
smart_city_db     | This user must also own the server process.
smart_city_db     |
smart_city_db     | The database cluster will be initialized with locale "en_US.utf8".
smart_city_db     | The default database encoding has accordingly been set to "UTF8".
smart_city_db     | The default text search configuration will be set to "english".
smart_city_db     |
smart_city_db     | Data page checksums are disabled.
smart_city_db     |
smart_city_db     | fixing permissions on existing directory /var/lib/postgresql/data ... ok
smart_city_db     | creating subdirectories ... ok
smart_city_db     | selecting dynamic shared memory implementation ... posix
smart_city_db     | selecting default max_connections ... 100
smart_city_db     | selecting default shared_buffers ... 128MB
smart_city_db     | selecting default time zone ... UTC
smart_city_db     | creating configuration files ... ok
smart_city_db     | running bootstrap script ... ok
smart_city_db     | sh: locale: not found
smart_city_db     | 2025-08-23 19:50:06.845 UTC [35] WARNING:  no usable system locales were found
smart_city_db     | performing post-bootstrap initialization ... ok
smart_city_db     | syncing data to disk ... ok
smart_city_db     |
smart_city_db     |
smart_city_db     | Success. You can now start the database server using:
smart_city_db     |
smart_city_db     |     pg_ctl -D /var/lib/postgresql/data -l logfile start
smart_city_db     |
smart_city_db     | initdb: warning: enabling "trust" authentication for local connections
smart_city_db     | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
smart_city_db     | waiting for server to start....2025-08-23 19:50:08.151 UTC [41] LOG:  starting PostgreSQL 15.14 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
smart_city_db     | 2025-08-23 19:50:08.156 UTC [41] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
smart_city_db     | 2025-08-23 19:50:08.172 UTC [44] LOG:  database system was shut down at 2025-08-23 19:50:07 UTC
smart_city_db     | 2025-08-23 19:50:08.181 UTC [41] LOG:  database system is ready to accept connections
smart_city_db     |  done
smart_city_db     | server started
smart_city_db     | CREATE DATABASE
smart_city_db     |
smart_city_db     |
smart_city_db     | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
smart_city_db     | CREATE EXTENSION
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:7: NOTICE:  table "alert_acknowledgments" does not exist, skipping
smart_city_db     | DROP TABLE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:8: NOTICE:  table "alerts" does not exist, skipping
smart_city_db     | DROP TABLE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:9: NOTICE:  table "sensor_readings" does not exist, skipping
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:10: NOTICE:  table "sensors" does not exist, skipping
smart_city_db     | DROP TABLE
smart_city_db     | DROP TABLE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:11: NOTICE:  table "users" does not exist, skipping
smart_city_db     | DROP TABLE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:12: NOTICE:  table "user_sessions" does not exist, skipping
smart_city_db     | DROP TABLE
smart_city_db     | DROP TYPE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:14: NOTICE:  type "user_role" does not exist, skipping
smart_city_db     | DROP TYPE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:15: NOTICE:  type "sensor_type" does not exist, skipping
smart_city_db     | DROP TYPE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:16: NOTICE:  type "sensor_status" does not exist, skipping
smart_city_db     | DROP TYPE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:17: NOTICE:  type "alert_severity" does not exist, skipping
smart_city_db     | DROP TYPE
smart_city_db     | psql:/docker-entrypoint-initdb.d/init.sql:18: NOTICE:  type "alert_status" does not exist, skipping
smart_city_db     | CREATE TYPE
smart_city_db     | CREATE TYPE
smart_city_db     | CREATE TYPE
smart_city_db     | CREATE TYPE
smart_city_db     | CREATE TYPE
smart_city_db     | CREATE TABLE
smart_city_db     | CREATE TABLE
smart_city_db     | CREATE TABLE
smart_city_db     | CREATE TABLE
smart_city_db     | CREATE TABLE
smart_city_db     | CREATE TABLE
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE INDEX
smart_city_db     | CREATE FUNCTION
smart_city_db     | CREATE TRIGGER
smart_city_db     | CREATE TRIGGER
smart_city_db     | CREATE TRIGGER
smart_city_db     | INSERT 0 5
smart_city_db     | INSERT 0 18
smart_city_db     | INSERT 0 6
smart_city_db     | INSERT 0 5
smart_city_db     | INSERT 0 3
smart_city_db     | INSERT 0 1
smart_city_db     | INSERT 0 1
smart_city_db     | CREATE VIEW
smart_city_db     | CREATE VIEW
smart_city_db     | CREATE VIEW
smart_city_db     |
smart_city_db     |
smart_city_db     | waiting for server to shut down....2025-08-23 19:50:08.665 UTC [41] LOG:  received fast shutdown request
smart_city_db     | 2025-08-23 19:50:08.669 UTC [41] LOG:  aborting any active transactions
smart_city_db     | 2025-08-23 19:50:08.674 UTC [41] LOG:  background worker "logical replication launcher" (PID 47) exited with exit code 1
smart_city_db     | 2025-08-23 19:50:08.675 UTC [42] LOG:  shutting down
smart_city_db     | 2025-08-23 19:50:08.679 UTC [42] LOG:  checkpoint starting: shutdown immediate
smart_city_db     | 2025-08-23 19:50:08.867 UTC [42] LOG:  checkpoint complete: wrote 979 buffers (6.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.033 s, sync=0.142 s, total=0.192 s; sync files=334, longest=0.018 s, average=0.001 s; distance=4489 kB, estimate=4489 kB
smart_city_db     | 2025-08-23 19:50:08.880 UTC [41] LOG:  database system is shut down
smart_city_db     |  done
smart_city_db     | server stopped
smart_city_db     |
smart_city_db     | PostgreSQL init process complete; ready for start up.
smart_city_db     |
smart_city_db     | 2025-08-23 19:50:09.006 UTC [1] LOG:  starting PostgreSQL 15.14 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
smart_city_db     | 2025-08-23 19:50:09.006 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
smart_city_db     | 2025-08-23 19:50:09.006 UTC [1] LOG:  listening on IPv6 address "::", port 5432
smart_city_db     | 2025-08-23 19:50:09.017 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
smart_city_db     | 2025-08-23 19:50:09.030 UTC [59] LOG:  database system was shut down at 2025-08-23 19:50:08 UTC
smart_city_db     | 2025-08-23 19:50:09.042 UTC [1] LOG:  database system is ready to accept connections
smart_city_frontend  | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
smart_city_frontend  | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
smart_city_frontend  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
smart_city_frontend  | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
smart_city_frontend  | 10-listen-on-ipv6-by-default.sh: info: /etc/nginx/conf.d/default.conf differs from the packaged version
smart_city_frontend  | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
smart_city_frontend  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
smart_city_frontend  | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
smart_city_frontend  | /docker-entrypoint.sh: Configuration complete; ready for start up
smart_city_frontend  | 2025/08/23 19:50:17 [emerg] 1#1: invalid value "must-revalidate" in /etc/nginx/conf.d/default.conf:11
smart_city_frontend  | nginx: [emerg] invalid value "must-revalidate" in /etc/nginx/conf.d/default.conf:11
smart_city_frontend exited with code 1
smart_city_backend   | node:internal/modules/cjs/loader:1143
smart_city_backend   |   throw err;
smart_city_backend   |   ^
smart_city_backend   |
smart_city_backend   | Error: Cannot find module '/anchor_project/target/idl/civic_ledger.json'
smart_city_backend   | Require stack:
smart_city_backend   | - /app/services/realBlockchainService.js
smart_city_backend   | - /app/routes/blockchain.js
smart_city_backend   | - /app/server.js
smart_city_backend   |     at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
smart_city_backend   |     at Module._load (node:internal/modules/cjs/loader:981:27)
smart_city_backend   |     at Module.require (node:internal/modules/cjs/loader:1231:19)
smart_city_backend   |     at require (node:internal/modules/helpers:177:18)
smart_city_backend   |     at Object.<anonymous> (/app/services/realBlockchainService.js:6:21)
smart_city_backend   |     at Module._compile (node:internal/modules/cjs/loader:1364:14)
smart_city_backend   |     at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
smart_city_backend   |     at Module.load (node:internal/modules/cjs/loader:1203:32)
smart_city_backend   |     at Module._load (node:internal/modules/cjs/loader:1019:12)
smart_city_backend   |     at Module.require (node:internal/modules/cjs/loader:1231:19) {
smart_city_backend   |   code: 'MODULE_NOT_FOUND',
smart_city_backend   |   requireStack: [
smart_city_backend   |     '/app/services/realBlockchainService.js',
smart_city_backend   |     '/app/routes/blockchain.js',
smart_city_backend   |     '/app/server.js'
smart_city_backend   |   ]
smart_city_backend   | }
smart_city_backend   |
smart_city_backend   | Node.js v18.20.8
dependency failed to start: container smart_city_backend exited (1)
scu@sc-w1:~/Downloads/smart_city_os$
